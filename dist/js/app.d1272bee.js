(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2552:function(t,e,n){"use strict";n("9e32")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("keep-alive",[n("router-view")],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"stage-wrapper"},[a("img",{staticClass:"stage",attrs:{alt:"Stage",src:n("cf05")}}),a("div",{staticClass:"centered"},[t._v("STAGE")])])}],s=(n("5c0b"),n("2877")),o={},c=Object(s["a"])(o,r,i,!1,null,null,null),u=c.exports,l=n("5530"),p=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("section",{staticClass:"seating"},[t._l(t.seatMap,(function(e){return n("div",{key:e.label,staticClass:"row"},t._l(e.seats,(function(a,r){return n("div",{key:r,staticClass:"seat",class:{"main-guest":a.id&&!a.isCompanion}},[a.id&&!a.isCompanion?n("router-link",{attrs:{to:{name:"itinerary",params:{id:""+a.id,guest:Object.assign({},a,{seat:""+e.label+(r+1)})}}}},[t._v(" "+t._s(a.id)+" ")]):n("span",[t._v(t._s(a.id?a.id:""))])],1)})),0)})),n("div",{staticClass:"seating-prefs"},[n("span",[t._v("Seating priority strategy: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.seatingStrategy,expression:"seatingStrategy"}],attrs:{type:"radio",value:"0"},domProps:{checked:t._q(t.seatingStrategy,"0")},on:{change:function(e){t.seatingStrategy="0"}}}),t._v(" RSVP order "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.seatingStrategy,expression:"seatingStrategy"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.seatingStrategy,"1")},on:{change:function(e){t.seatingStrategy="1"}}}),t._v(" Party size "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.seatingStrategy,expression:"seatingStrategy"}],attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.seatingStrategy,"2")},on:{change:function(e){t.seatingStrategy="2"}}}),t._v(" Mixed ")]),n("button",{staticClass:"seat-guests",attrs:{role:"button",disabled:t.generatingData},on:{click:t.mockDataAndSeatGuests}},[t._v(" "+t._s(t.generatingData?"Please wait...":"Seat Guests")+" ")])],2)])},d=[],g=(n("d81d"),{methods:{createInRange:function(t,e){return Math.floor(Math.random()*(e+1-t))+t},validateAllInRange:function(t,e,n){for(var a=0;a<t.length;a++)if(t[a]<e||t[a]>n)return!1;return!0},createGuests:function(t){for(var e=[],n=1;n<=t;n++){var a={id:n,name:"Guest_".concat(n),companions:this.createInRange(0,5),packageId:this.createInRange(1,5)};e.push(a)}return e},getDistribution:function(t){return summary=t.reduce((function(t,e){return t[e]||(t[e]=0),t[e]++,t}),{})},getPeopleCount:function(t){return t.reduce((function(t,e){return t+e.companions+1}),0)},verifyGuestData:function(t){var e=t.map((function(t){return t.packageId})),n=t.map((function(t){return t.companions})),a=this.validateAllInRange(e,1,5),r=this.validateAllInRange(n,0,5);return{packagesValid:a,companionsValid:r}}}}),v=g,h=n("3835"),m=n("b85c"),y=(n("c740"),n("a434"),n("4de4"),n("d3b7"),n("b0c0"),n("99af"),10),b=10,S=200,_={COLUMNS:y,ROWS:b,GUESTS:S},O={data:function(){return{guests:[],generatingData:!1}},methods:{findFirstToFitInRow:function(t,e){if(!e)return null;var n,a=function(t){return t.companions<=e-1},r=function(t){return t.companions===e-1};n="0"===this.seatingStrategy?a:r;var i=t.findIndex(n);return i>-1?t.splice(i,1)[0]:this.findFirstToFitInRow(t,e-1)},fillRow:function(t){if(!t.length)return null;var e=[],n=0,a=t.shift();e.push(a),n+=a.companions+1;while(n<=_.COLUMNS){var r=this.findFirstToFitInRow(t,_.COLUMNS-n);if(!r)break;n+=r.companions+1,e.push(r)}return e},peopleInRow:function(t){return t.reduce((function(t,e){return t+e.companions+1}),0)},peopleSeated:function(t){var e=this,n=t.reduce((function(t,n){return t+e.peopleInRow(n)}),0);return n},mockDataAndSeatGuests:function(){this.generatingData=!0,this.guests=this.createGuests(_.GUESTS),"1"===this.seatingStrategy&&this.guests.sort((function(t,e){return e.companions-t.companions})),this.fillVenue()},fillVenue:function(){var t=this,e=JSON.parse(JSON.stringify(this.guests)),n=this.getPeopleCount(e),a=[];while(this.peopleSeated(a)<_.ROWS*_.COLUMNS&&a.length<10){var r=this.fillRow(e);if(null==r)break;a.push(r)}a.sort((function(e,n){return t.peopleInRow(n)-t.peopleInRow(e)}));var i=this.peopleSeated(a),s=_.ROWS*_.COLUMNS-i;if(s>1){this.displaySeating(a);var o=this.findFirstToFitInRow(e,s);if(o){var c,u=a.filter((function(e){return t.peopleInRow(e)<_.COLUMNS})),p=Object(m["a"])(u);try{for(p.s();!(c=p.n()).done;){row=c.value;for(var f=_.COLUMNS-this.peopleInRow(row),d=0;d<f;d++){var g=Object(l["a"])(Object(l["a"])({},o),{},{companions:0});row.push(g)}}}catch(R){p.e(R)}finally{p.f()}i=peopleSeated(a),s=_.ROWS*_.COLUMNS-i,this.displaySeating(a)}}var v,y=Object(m["a"])(a.entries());try{for(y.s();!(v=y.n()).done;){var b=Object(h["a"])(v.value,2),S=b[0],O=b[1];this.seatMap[S].seats=[];var w,k=Object(m["a"])(O);try{for(k.s();!(w=k.n()).done;)for(var C=w.value,j=0;j<C.companions+1;j++)this.seatMap[S].seats.push(0==j?C:{id:C.id,name:"".concat(C.name,"_party"),isCompanion:!0})}catch(R){k.e(R)}finally{k.f()}}}catch(R){y.e(R)}finally{y.f()}return console.log("Seating arrangement:\n"),this.displaySeating(a),this.generatingData=!1,{people:n,seated:i,matrix:a,guests:e}},displaySeating:function(t){var e,n="",a=Object(m["a"])(t);try{for(a.s();!(e=a.n()).done;){var r,i=e.value,s="",o=Object(m["a"])(i);try{for(o.s();!(r=o.n()).done;)for(var c=r.value,u=0;u<c.companions+1;u++)s+="".concat(c.id<10?" ":"").concat(c.id," ")}catch(l){o.e(l)}finally{o.f()}n+=s+="\n"}}catch(l){a.e(l)}finally{a.f()}console.log(n)}}},w=O,k="ABCDEFGHIJKLMNOPQRSTUVWXYZ",C={name:"Seating",mixins:[v,w],data:function(){for(var t=[],e=0;e<_.COLUMNS;e++){for(var n={label:k[e],seats:[]},a=0;a<_.ROWS;a++)n.seats.push({});t.push(n)}return{seatMap:t,seatingStrategy:"0"}},watch:{seatingStrategy:function(t){this.guests.length&&("1"===t?this.guests.sort((function(t,e){return e.companions-t.companions})):this.guests.sort((function(t,e){return t.id-e.id})),this.fillVenue())}}},j=C,R=(n("2552"),Object(s["a"])(j,f,d,!1,null,"4698c912",null)),I=R.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itinerary"},[n("h4",[t._v("This is your itinerary:")]),t.id&&t.guest?n("table",[t._m(0),n("tbody",[n("tr",[n("td",[t._v(" "+t._s(t.guest.id)+" ")]),n("td",[t._v(" "+t._s(t.guest.name)+" ")]),n("td",[t._v(" "+t._s(t.guest.companions)+" ")]),n("td",[t._v(" "+t._s(t.packages[t.guest.packageId])+" ")]),n("td",[t._v(" "+t._s(t.guest.seat)+" ")])])])]):n("div",[t._v(" No guest data was provided ")]),n("button",{staticClass:"back",attrs:{role:"button"},on:{click:t.goback}},[t._v(" Go back ")])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Guest ID")]),n("th",[t._v("Name")]),n("th",[t._v("# of Companions")]),n("th",[t._v("Package ID")]),n("th",[t._v("Seat")])])])}],x=n("2f62"),N={name:"Itinerary",props:{id:String,guest:Object},computed:Object(l["a"])({},Object(x["b"])(["packages"])),methods:{goback:function(){this.$router.push("/")}}},G=N,D=(n("ab6a"),Object(s["a"])(G,P,M,!1,null,"70337815",null)),T=D.exports;a["a"].use(p["a"]);var U=[{path:"/",name:"home",component:I},{path:"/itinerary/:id",name:"itinerary",component:T,props:function(t){return Object(l["a"])({},t.params)}}],L=new p["a"]({mode:"history",base:"/",routes:U}),E=L;a["a"].use(x["a"]);var F=new x["a"].Store({state:{packages:{1:"Package_1",2:"Package_2",3:"Package_3",4:"Package_4",5:"Package_5"}},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:E,store:F,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},"9e32":function(t,e,n){},ab6a:function(t,e,n){"use strict";n("bbaa")},bbaa:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.d1272bee.js.map